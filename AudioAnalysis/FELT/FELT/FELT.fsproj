<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003" ToolsVersion="4.0" DefaultTargets="Build">
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">x86</Platform>
    <ProductVersion>8.0.30703</ProductVersion>
    <SchemaVersion>2.0</SchemaVersion>
    <ProjectGuid>{73b9c579-f539-426f-9852-1efcba75c0d5}</ProjectGuid>
    <OutputType>Exe</OutputType>
    <RootNamespace>FELT</RootNamespace>
    <AssemblyName>FELT</AssemblyName>
    <TargetFrameworkVersion>v4.0</TargetFrameworkVersion>
    <TargetFrameworkProfile>Client</TargetFrameworkProfile>
    <Name>FELT</Name>
    <ProjectTypeGuids>{f2a71f9b-5d33-465a-a702-920d77279786}</ProjectTypeGuids>
    <SolutionDir Condition="$(SolutionDir) == '' Or $(SolutionDir) == '*Undefined*'">..\..\FELT\</SolutionDir>
    <RestorePackages>true</RestorePackages>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|x86' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>false</Optimize>
    <Tailcalls>false</Tailcalls>
    <OutputPath>bin\Debug\</OutputPath>
    <DefineConstants>DEBUG;TRACE</DefineConstants>
    <WarningLevel>3</WarningLevel>
    <PlatformTarget>x86</PlatformTarget>
    <DocumentationFile>bin\Debug\FELT.XML</DocumentationFile>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|x86' ">
    <DebugType>pdbonly</DebugType>
    <Optimize>true</Optimize>
    <Tailcalls>true</Tailcalls>
    <OutputPath>bin\Release\</OutputPath>
    <DefineConstants>TRACE</DefineConstants>
    <WarningLevel>3</WarningLevel>
    <PlatformTarget>x86</PlatformTarget>
    <DocumentationFile>bin\Release\FELT.XML</DocumentationFile>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|x64' ">
    <OutputPath>bin\Debug\</OutputPath>
    <PlatformTarget>x64</PlatformTarget>
    <DefineConstants>TRACE;DEBUG</DefineConstants>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|x64' ">
    <OutputPath>bin\Release\</OutputPath>
    <PlatformTarget>x64</PlatformTarget>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debugx64|x86' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>false</Optimize>
    <Tailcalls>false</Tailcalls>
    <DefineConstants>DEBUG;TRACE</DefineConstants>
    <WarningLevel>3</WarningLevel>
    <PlatformTarget>x86</PlatformTarget>
    <DocumentationFile>bin\Debug\FELT.XML</DocumentationFile>
    <OutputPath>bin\Debugx64\</OutputPath>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debugx64|x64' ">
    <PlatformTarget>x64</PlatformTarget>
    <OutputPath>bin\Debugx64\</OutputPath>
  </PropertyGroup>
  <Import Project="$(MSBuildExtensionsPath32)\FSharp\1.0\Microsoft.FSharp.Targets" Condition="!Exists('$(MSBuildBinPath)\Microsoft.Build.Tasks.v4.0.dll')" />
  <Import Project="$(MSBuildExtensionsPath32)\..\Microsoft F#\v4.0\Microsoft.FSharp.Targets" Condition=" Exists('$(MSBuildBinPath)\Microsoft.Build.Tasks.v4.0.dll')" />
  <Import Project="$(MSBuildExtensionsPath)\MSBuildCommunityTasks\MSBuild.Community.Tasks.Targets" />
  <ItemGroup>
    <Compile Include="AssemblyInfo.fs" />
    <Compile Include="Program.fs" />
    <Compile Include="Cleaner.fs" />
    <Compile Include="Transformer.Base.fs" />
    <Compile Include="Transformer.TimeOfDay.fs" />
    <Compile Include="Selector.Base.fs" />
    <Compile Include="Selector.OneForOne.fs" />
    <Compile Include="Selector.Randomiser.fs" />
    <Compile Include="Trainer.Base.fs" />
    <Compile Include="Trainer.Group.fs" />
    <Compile Include="Trainer.GroupWithStats.fs" />
    <Compile Include="Trainer.OneForOne.fs" />
    <Compile Include="Classifier.Base.fs" />
    <Compile Include="Classifier.Euclidean.fs" />
    <Compile Include="Classifier.CosineSimilarity.fs" />
    <Compile Include="Classifier.PearsonCorrelationCoefficient.fs" />
    <Compile Include="Classifier.ZScore.fs" />
    <Compile Include="ResultsComputation.fs" />
    <Compile Include="Workflows.fs" />
    <Compile Include="RunAnalysis.fs" />
    <None Include="packages.config" />
    <Content Include="ExcelResultsComputationTemplate.xlsx">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </Content>
  </ItemGroup>
  <ItemGroup>
    <Reference Include="Accord.Statistics">
      <HintPath>..\packages\Accord.NET Framework-2.5.0\Release\Accord.Statistics.dll</HintPath>
    </Reference>
    <Reference Include="AForge">
      <HintPath>..\packages\AForge.2.2.4\lib\AForge.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="AForge.Genetic">
      <HintPath>..\packages\AForge.Genetic.2.2.4\lib\AForge.Genetic.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="AForge.Math">
      <HintPath>..\packages\AForge.Math.2.2.4\lib\AForge.Math.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="AForge.Neuro">
      <HintPath>..\packages\AForge.Neuro.2.2.4\lib\AForge.Neuro.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="EPPlus">
      <HintPath>..\..\..\Extra Assemblies\EPPlus 3.0\EPPlus.dll</HintPath>
    </Reference>
    <Reference Include="FSharp.PowerPack">
      <HintPath>..\packages\FSPowerPack.Community.2.1.1.1\Lib\Net40\FSharp.PowerPack.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="FSharp.PowerPack.Linq">
      <HintPath>..\packages\FSPowerPack.Community.2.1.1.1\Lib\Net40\FSharp.PowerPack.Linq.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="FSharp.PowerPack.Metadata">
      <HintPath>..\packages\FSPowerPack.Community.2.1.1.1\Lib\Net40\FSharp.PowerPack.Metadata.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="FSharp.PowerPack.Parallel.Seq">
      <HintPath>..\packages\FSPowerPack.Community.2.1.1.1\Lib\Net40\FSharp.PowerPack.Parallel.Seq.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="MathNet.Numerics">
      <HintPath>..\packages\MathNet.Numerics.2.1.2\lib\Net40\MathNet.Numerics.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="MathNet.Numerics.FSharp">
      <HintPath>..\packages\MathNet.Numerics.FSharp.2.1.2\lib\Net40\MathNet.Numerics.FSharp.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="mscorlib" />
    <Reference Include="FSharp.Core" />
    <Reference Include="System" />
    <Reference Include="System.ComponentModel.DataAnnotations" />
    <Reference Include="System.Configuration" />
    <Reference Include="System.Core" />
    <Reference Include="System.Numerics" />
    <Reference Include="System.Xml" />
    <Reference Include="zlib.net">
      <HintPath>..\packages\zlib.net.1.0.3.0\lib\zlib.net.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="zlib.net" />
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\Shared\MQUTeR.FSharp.Shared.fsproj">
      <Name>MQUTeR.FSharp.Shared</Name>
      <Project>{9a0fbe53-07fd-4dcf-97ec-7812badd89d4}</Project>
      <Private>True</Private>
    </ProjectReference>
  </ItemGroup>
  <Import Project="$(SolutionDir)\.nuget\nuget.targets" />
  <!-- To modify your build process, add your task inside one of the targets below and uncomment it. 
	     Other similar extension points exist, see Microsoft.Common.targets.	-->
  <Target Name="BeforeBuild">
    <!-- C:\Program Files (x86)\CollabNet\Subversion Server\ -->
    <SvnVersion LocalPath="$(MSBuildProjectDirectory)" ToolPath="$(MSBuildProjectDirectory)\..\..\..\Extra Assemblies\Subversion Server\">
      <Output TaskParameter="Revision" PropertyName="Revision" />
    </SvnVersion>
    <PropertyGroup>
      <File>$([System.IO.File]::ReadAllText("AssemblyInfo.fs"))</File>
      <Expr>AssemblyVersion\x28\x22(\d+\.\d+\.\d+\.\d+)</Expr>
      <reg>
			$([System.Text.RegularExpressions.Regex]::Match($(File), $(Expr) ).Groups[1].Value)
			</reg>
      <maj>$(reg.Split(".")[0])</maj>
      <min>$(reg.Split(".")[1])</min>
      <bld>$(reg.Split(".")[2])</bld>
      <rev>$(reg.Split(".")[3])</rev>
    </PropertyGroup>
    <Math.Add Numbers="$(bld);1">
      <Output TaskParameter="Result" PropertyName="Result" />
    </Math.Add>
    <Message Text="Found assembly version: $(maj).$(min).$(bld).$(rev). Replacing with: $(maj).$(min).$(Result).$(Revision)!" Importance="High" />
    <FileUpdate Files="AssemblyInfo.fs" Regex="(\d+)\.(\d+)\.(\d+)\.(\d+)" ReplacementText="$1.$2.$(Result).$(Revision)" />
  </Target>
  <Target Name="AfterBuild">
  </Target>
</Project>