<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003" ToolsVersion="4.0" DefaultTargets="Build">
  <PropertyGroup>
    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
    <ProductVersion>8.0.30703</ProductVersion>
    <SchemaVersion>2.0</SchemaVersion>
    <ProjectGuid>{73b9c579-f539-426f-9852-1efcba75c0d5}</ProjectGuid>
    <OutputType>Library</OutputType>
    <RootNamespace>FELT</RootNamespace>
    <AssemblyName>FELT</AssemblyName>
    <TargetFrameworkVersion>v4.0</TargetFrameworkVersion>
    <TargetFrameworkProfile>
    </TargetFrameworkProfile>
    <Name>FELT</Name>
    <ProjectTypeGuids>{f2a71f9b-5d33-465a-a702-920d77279786}</ProjectTypeGuids>
    <!--<SolutionDir Condition="$(SolutionDir) == '' Or $(SolutionDir) == '*Undefined*'">..\..\FELT\</SolutionDir>-->
    <RestorePackages>true</RestorePackages>
    <SolutionDir Condition="$(SolutionDir) == '' Or $(SolutionDir) == '*Undefined*'">..\..\</SolutionDir>
    <TargetFSharpCoreVersion>4.3.0.0</TargetFSharpCoreVersion>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
    <DebugSymbols>true</DebugSymbols>
    <DebugType>full</DebugType>
    <Optimize>false</Optimize>
    <Tailcalls>false</Tailcalls>
    <OutputPath>bin\Debug\</OutputPath>
    <DefineConstants>DEBUG;TRACE</DefineConstants>
    <WarningLevel>3</WarningLevel>
    <DocumentationFile>bin\Debug\FELT.XML</DocumentationFile>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
    <DebugType>pdbonly</DebugType>
    <Optimize>true</Optimize>
    <Tailcalls>true</Tailcalls>
    <OutputPath>bin\Release\</OutputPath>
    <DefineConstants>TRACE</DefineConstants>
    <WarningLevel>3</WarningLevel>
    <DocumentationFile>bin\Release\FELT.XML</DocumentationFile>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|x64' ">
    <OutputPath>bin\Debug\</OutputPath>
    <PlatformTarget>AnyCPU</PlatformTarget>
    <DefineConstants>TRACE;DEBUG</DefineConstants>
  </PropertyGroup>
  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|x64' ">
    <OutputPath>bin\Release\</OutputPath>
    <PlatformTarget>x64</PlatformTarget>
  </PropertyGroup>
  <PropertyGroup>
    <MinimumVisualStudioVersion Condition="'$(MinimumVisualStudioVersion)' == ''">10</MinimumVisualStudioVersion>
  </PropertyGroup>
  <Choose>
    <When Condition="'$(VisualStudioVersion)' == '11.0'">
      <PropertyGroup>
        <FSharpTargetsPath>$(MSBuildExtensionsPath32)\..\Microsoft SDKs\F#\3.0\Framework\v4.0\Microsoft.FSharp.Targets</FSharpTargetsPath>
      </PropertyGroup>
    </When>
    <Otherwise>
      <PropertyGroup>
        <FSharpTargetsPath>$(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v$(VisualStudioVersion)\FSharp\Microsoft.FSharp.Targets</FSharpTargetsPath>
      </PropertyGroup>
    </Otherwise>
  </Choose>
  <Import Project="$(FSharpTargetsPath)" Condition="Exists('$(FSharpTargetsPath)')" />
  <Import Project="$(MSBuildProjectDirectory)\..\..\..\Extra Assemblies\MSBuild\MSBuildCommunityTasks\MSBuild.Community.Tasks.Targets" />
  <ItemGroup>
    <Compile Include="AssemblyInfo.fs" />
    <Compile Include="Program.fs" />
    <Compile Include="Cleaner.fs" />
    <Compile Include="Transformer.Base.fs" />
    <Compile Include="Transformer.TimeOfDay.fs" />
    <Compile Include="Transformer.RemoveFeature.fs" />
    <Compile Include="Transformer.ZScoreNormalise.fs" />
    <Compile Include="Selector.Base.fs" />
    <Compile Include="Selector.OneForOne.fs" />
    <Compile Include="Selector.PredicateSelector.fs" />
    <Compile Include="Selector.Randomiser.fs" />
    <Compile Include="Trainer.Base.fs" />
    <Compile Include="Trainer.Group.fs" />
    <Compile Include="Trainer.GroupWithStats.fs" />
    <Compile Include="Trainer.OneForOne.fs" />
    <Compile Include="Classifier.Base.fs" />
    <Compile Include="Classifier.Euclidean.fs" />
    <Compile Include="Classifier.CosineSimilarity.fs" />
    <Compile Include="Classifier.PearsonCorrelationCoefficient.fs" />
    <Compile Include="Classifier.ZScore.fs" />
    <Compile Include="Classifier.GraphDistance.fs" />
    <Compile Include="Results.ResultsCombiner.fs" />
    <Compile Include="ResultsComputation.fs" />
    <Compile Include="Results.OutFile.fs" />
    <Compile Include="WebsiteComputation.fs" />
    <Compile Include="Workflows.fs" />
    <Compile Include="RunAnalysis.fs" />
    <Compile Include="Search.fs" />
    <Content Include="ExcelResultsComputationTemplate.xlsx">
      <CopyToOutputDirectory>Always</CopyToOutputDirectory>
    </Content>
    <None Include="app.config" />
    <None Include="packages.config" />
  </ItemGroup>
  <ItemGroup>
    <Reference Include="Accord">
      <HintPath>..\..\packages\Accord.2.12.0.0\lib\Accord.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="Accord.MachineLearning">
      <HintPath>..\..\packages\Accord.MachineLearning.2.8.1.0\lib\Accord.MachineLearning.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="Accord.Math">
      <HintPath>..\..\packages\Accord.Math.2.12.0.0\lib\Accord.Math.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="Accord.Statistics">
      <HintPath>..\..\packages\Accord.Statistics.2.12.0.0\lib\Accord.Statistics.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="AForge">
      <HintPath>..\..\packages\AForge.2.2.5\lib\AForge.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="AForge.Math">
      <HintPath>..\..\packages\AForge.Math.2.2.5\lib\AForge.Math.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="EPPlus">
      <HintPath>..\..\..\Extra Assemblies\EPPlus 3.0\EPPlus.dll</HintPath>
    </Reference>
    <Reference Include="FSharp.Core, Version=$(TargetFSharpCoreVersion), Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a">
      <Private>True</Private>
    </Reference>
    <Reference Include="FSharp.PowerPack">
      <HintPath>..\..\packages\FSPowerPack.Core.Community.3.0.0.0\Lib\Net40\FSharp.PowerPack.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="FSharp.PowerPack.Linq">
      <HintPath>..\..\packages\FSPowerPack.Linq.Community.3.0.0.0\Lib\Net40\FSharp.PowerPack.Linq.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="FSharp.PowerPack.Metadata">
      <HintPath>..\..\packages\FSPowerPack.Metadata.Community.3.0.0.0\Lib\Net40\FSharp.PowerPack.Metadata.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="FSharp.PowerPack.Parallel.Seq">
      <HintPath>..\..\packages\FSPowerPack.Parallel.Seq.Community.3.0.0.0\Lib\Net40\FSharp.PowerPack.Parallel.Seq.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="MathNet.Numerics">
      <HintPath>..\..\packages\MathNet.Numerics.2.6.1\lib\net40\MathNet.Numerics.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="MathNet.Numerics.IO">
      <HintPath>..\..\packages\MathNet.Numerics.2.6.1\lib\net40\MathNet.Numerics.IO.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="Microsoft.CSharp" />
    <Reference Include="mscorlib" />
    <Reference Include="QuickGraph">
      <HintPath>..\..\packages\QuickGraph.3.6.61119.7\lib\net4\QuickGraph.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="QuickGraph.Data">
      <HintPath>..\..\packages\QuickGraph.3.6.61119.7\lib\net4\QuickGraph.Data.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="QuickGraph.Graphviz">
      <HintPath>..\..\packages\QuickGraph.3.6.61119.7\lib\net4\QuickGraph.Graphviz.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="QuickGraph.Serialization">
      <HintPath>..\..\packages\QuickGraph.3.6.61119.7\lib\net4\QuickGraph.Serialization.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="System" />
    <Reference Include="System.ComponentModel.DataAnnotations" />
    <Reference Include="System.Configuration" />
    <Reference Include="System.Core" />
    <Reference Include="System.Data.Linq" />
    <Reference Include="System.Numerics" />
    <Reference Include="System.Xml" />
  </ItemGroup>
  <ItemGroup>
    <ProjectReference Include="..\..\..\Acoustics\Acoustics.Shared\Acoustics.Shared.csproj">
      <Name>Acoustics.Shared</Name>
      <Project>{ef04f5a8-d4bd-4cd1-bfc2-f6ad2d9c7927}</Project>
      <Private>True</Private>
    </ProjectReference>
    <ProjectReference Include="..\..\..\Acoustics\Acoustics.Tools\Acoustics.Tools.csproj">
      <Name>Acoustics.Tools</Name>
      <Project>{0338570e-5a77-4a2e-8e17-7955c36ae1f7}</Project>
      <Private>True</Private>
    </ProjectReference>
    <ProjectReference Include="..\..\AudioAnalysisTools\AudioAnalysisTools.csproj">
      <Name>AudioAnalysisTools</Name>
      <Project>{86855cbc-7243-492a-a500-2de36cc7c825}</Project>
      <Private>True</Private>
    </ProjectReference>
    <ProjectReference Include="..\..\TowseyLib\TowseyLib.csproj">
      <Name>TowseyLib</Name>
      <Project>{7e0d2209-a416-4784-b350-83778d20a64b}</Project>
      <Private>True</Private>
    </ProjectReference>
    <ProjectReference Include="..\..\AED\AED\AED.fsproj">
      <Name>AED</Name>
      <Project>{993980a0-8d06-4635-8296-40e9fff9c301}</Project>
      <Private>True</Private>
    </ProjectReference>
    <ProjectReference Include="..\Shared\MQUTeR.FSharp.Shared.fsproj">
      <Name>MQUTeR.FSharp.Shared</Name>
      <Project>{9a0fbe53-07fd-4dcf-97ec-7812badd89d4}</Project>
      <Private>True</Private>
    </ProjectReference>
  </ItemGroup>
  <!-- To modify your build process, add your task inside one of the targets below and uncomment it. 
	     Other similar extension points exist, see Microsoft.Common.targets.	-->
  <Import Project="$(SolutionDir)\.nuget\nuget.targets" />
  <PropertyGroup>
    <MSBuildCommunityTasksPath>$(SolutionDir)\.build</MSBuildCommunityTasksPath>
  </PropertyGroup>
  <Import Project="$(MSBuildCommunityTasksPath)\MSBuild.Community.Tasks.Targets" />
  <Target Name="BeforeBuild">
    <!-- Turning this on because that lazy arsehole can't be bother doing basic diagnostics	-->
    <PropertyGroup>
      <File>$([System.IO.File]::ReadAllText("AssemblyInfo.fs"))</File>
      <Expr>AssemblyVersion\x28\x22(\d+\.\d+\.\d+\.\d+)\x22</Expr>
      <reg>
			$([System.Text.RegularExpressions.Regex]::Match($(File), $(Expr) ).Groups[1].Value)
			</reg>
      <maj>$(reg.Split(".")[0])</maj>
      <min>$(reg.Split(".")[1])</min>
      <bld>$(reg.Split(".")[2])</bld>
      <rev>$(reg.Split(".")[3].Trim())</rev>
      <year>$([System.DateTime]::Now.ToString("yy"))</year>
      <month>$([System.DateTime]::Now.ToString("MM"))</month>
    </PropertyGroup>
    <Message Text="Found assembly version: $(maj).$(min).$(bld).$(rev). Replacing with: $(year).$(month).$(bld).$(rev)!" Importance="High" />
    <FileUpdate Files="AssemblyInfo.fs" Regex="&quot;(\d+)\.(\d+)\.(\d+)\.(\d+)&quot;" ReplacementText="&quot;$(year).$(month).$(bld).$(rev)&quot;" />
  </Target>
  <Target Name="AfterBuild">
  </Target>
</Project>