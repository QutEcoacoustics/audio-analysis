---

# Australasian Bittern = Botaurus poiciloptilus
#NOTE: The parameter values in this config file were optimised on a data set supplied by Elizabeth Znidersic.
#      It consisted of 14 consecutive hours of recording from Medeas Cove, St. Helens, Tasmania.
#      The recordings contained 55 Bittern calls.
#      Recall = 76%. Precision = 88%.

# Resample rate must be 2 X the desired Nyquist
ResampleRate: 8000
# SegmentDuration: units=seconds;    
SegmentDuration: 60
# SegmentOverlap: units=seconds;
SegmentOverlap: 0

# Each of these profiles will be analyzed
# This profile is required for the species-specific recogniser and must have the current name.
Profiles:
    BitternSyllable: !OnebinTrackParameters
        ComponentName: Whistle 
        SpeciesName: BotaurusPoiciloptilus
        FrameSize: 512
        FrameStep: 256
        WindowFunction: HANNING
        # min and max of the freq band to search
        MinHertz: 100          
        MaxHertz: 200
        MinDuration: 0.3
        MaxDuration: 1.0
        DecibelThreshold: 3.0

#################### POST-PROCESSING of EVENTS ###################

# The first two post-processing steps are to combine overlapping/proximal/sequential events 
# 1: Combine overlapping events
CombineOverlappingEvents: true

# 2: Combine possible syllable sequences
#    Can also use this to "mop up" events in neighbourhood - these can be removed later. 
SyllableSequence:
    CombinePossibleSyllableSequence: true
    SyllableStartDifference: 3.0
    SyllableHertzGap: 35
    FilterSyllableSequence: true
    SyllableMaxCount: 6
    ExpectedPeriod: 2.0

# 3: Remove events whose bandwidth lies outside 3 SDs of an expected value.
ExpectedBandwidth: 100
BandwidthStandardDeviation: 15

# 4: Filter the events for excess activity in their upper and lower buffer zones
NeighbourhoodLowerHertzBuffer: 150
NeighbourhoodUpperHertzBuffer: 400
NeighbourhoodDecibelBuffer: 2.0

# C: Options to save results files
#  4: Available options for saving spectrograms (case-sensitive): [False/Never | True/Always | WhenEventsDetected]
# "True" is useful when debugging but "WhenEventsDetected" is required for operational use.
#SaveSonogramImages: True
SaveSonogramImages: WhenEventsDetected

#  5: Available options for saving data files (case-sensitive): [False/Never | True/Always | WhenEventsDetected]
SaveIntermediateWavFiles: Never
SaveIntermediateCsvFiles: false

# 6: DisplayCsvImage is obsolete - ensure it remains set to: false
DisplayCsvImage: false
## End section for AnalyzeLongRecording

# Other config files to reference
HighResolutionIndicesConfig: "../Towsey.Acoustic.HiResIndicesForRecognisers.yml"
